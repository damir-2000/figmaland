"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperties(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function _createClass(a,b,c){return b&&_defineProperties(a.prototype,b),c&&_defineProperties(a,c),a}document.addEventListener("DOMContentLoaded",function(){function a(a){a.matches?g.prepend(i):h.prepend(i)}document.querySelector(".navbar__burger").addEventListener("click",function(){this.classList.toggle("navbar__burger_active"),document.querySelector(".navbar__sidebar").classList.toggle("navbar__sidebar_active"),document.querySelector(".navbar").classList.toggle("navbar_active"),document.querySelector("body").classList.toggle("inactive")});var b=document.querySelector(".header"),c=!1,d=300;window.addEventListener("scroll",function(){var a=document.querySelector(".start").offsetHeight;window.scrollY>a-b.offsetHeight&&!c&&(c=!0,b.classList.add("header_active"),b.style.opacity=0,b.style.position="fixed",b.animate([{opacity:"0"},{opacity:"1"}],{duration:d}),b.style.opacity=1),window.scrollY<a-b.offsetHeight-100&&c&&(c=!1,b.style.opacity=1,b.animate([{opacity:"1"},{opacity:"0"}],{duration:d}),setTimeout(function(){b.style.position="absolute",b.classList.remove("header_active")},d))});var e=/*#__PURE__*/function(){function a(b){_classCallCheck(this,a),document.querySelector(".".concat(b," video")).classList.add("".concat(b,"__video")),this.selector={player:document.querySelector(".".concat(b)),video:document.querySelector(".".concat(b,"__video"))},this.navigationClassName={nav:"".concat(b,"__nav"),playerControls:"".concat(b,"-controls"),play:"".concat(b,"-controls__play"),centerButton:"".concat(b,"__center-btn"),screen:"".concat(b,"-controls__screen"),progressBar:"".concat(b,"-progress-bar"),progressTime:"".concat(b,"-progress-bar__time"),progressBuffer:"".concat(b,"-progress-bar__buffer"),mute:"".concat(b,"-controls__volume-btn"),volumeBar:"".concat(b,"-controls__volume-bar"),volumeLevel:"".concat(b,"-controls__volume-bar-progress"),timeDurationMin:"".concat(b,"-time__duration-minute"),timeDurationSec:"".concat(b,"-time__duration-sec"),timeCurentMin:"".concat(b,"-time__curent-minute"),timeCurentSec:"".concat(b,"-time__curent-sec"),setting:"".concat(b,"-controls__setting"),settingMenu:"".concat(b,"-controls__setting-menu"),videoSpeed:"".concat(b,"__speed"),videoLoader:"".concat(b,"__loader"),polygon:"".concat(b,"__polygon")},this.iconClassName={mainClass:"fas",play:"fa-play",pause:"fa-pause",setting:"fa-cog",fullScreen:"fa-expand",smallScreen:"fa-compress",volumeUp:"fa-volume-up",volumeDown:"fa-volume-down",volumeOff:"fa-volume-off",volumeMute:"fa-volume-mute",videoLoader:"line-scale-pulse-out"},this.selector.player.insertAdjacentHTML("beforeend","\n            <div class=\"".concat(this.navigationClassName.polygon,"\"></div>\n            <div class=\"").concat(this.navigationClassName.centerButton," ").concat(this.iconClassName.mainClass," ").concat(this.iconClassName.play,"\"></div>\n            <div class=\"").concat(this.navigationClassName.videoLoader," ").concat(this.iconClassName.videoLoader,"\">\n            <div></div><div></div><div></div><div></div><div></div>\n            </div>\n            <div class=\"").concat(this.navigationClassName.nav,"\">\n            <div class=\"").concat(this.navigationClassName.progressBar,"\">\n                <div class=\"").concat(this.navigationClassName.progressTime,"\"></div>\n                <div class=\"").concat(this.navigationClassName.progressBuffer,"\"></div>\n            </div>\n            <div class=\"").concat(this.navigationClassName.playerControls,"\">\n                <div class=\"").concat(this.navigationClassName.playerControls,"__left\">\n                    <button class=\"").concat(this.iconClassName.mainClass," ").concat(this.iconClassName.play," ").concat(this.navigationClassName.playerControls,"__btn ").concat(this.navigationClassName.play,"\"></button>\n                    <div class=\"").concat(this.navigationClassName.playerControls,"__volume\">\n                        <div class=\"").concat(this.navigationClassName.playerControls,"__btn ").concat(this.navigationClassName.mute," ").concat(this.iconClassName.mainClass," ").concat(this.iconClassName.volumeUp,"\"></div>\n                        <div class=\"").concat(this.navigationClassName.volumeBar,"\">\n                        <div class=\"").concat(this.navigationClassName.volumeLevel,"\"></div>\n                        </div>\n                    </div>\n                    <div class=\"").concat(b,"-time\">\n                        <span class=\"").concat(b,"-time__curent\"><span class=\"").concat(this.navigationClassName.timeCurentMin,"\">0</span><span>:</span><span class=\"").concat(this.navigationClassName.timeCurentSec,"\">00</span></span>\n                        <span>/  </span>\n                        <span class=\"").concat(b,"-time__duration\"><span class=\"").concat(this.navigationClassName.timeDurationMin,"\">0</span><span>:</span><span class=\"").concat(this.navigationClassName.timeDurationSec,"\">00</span></span>\n                    </div>\n                </div>\n                <div class=\"").concat(this.navigationClassName.playerControls,"__right\">\n                <button class=\"").concat(this.iconClassName.mainClass," ").concat(this.iconClassName.setting," ").concat(this.navigationClassName.playerControls,"__btn ").concat(this.navigationClassName.setting,"\"></button>\n                <button class=\"").concat(this.iconClassName.mainClass," ").concat(this.iconClassName.fullScreen," ").concat(this.navigationClassName.playerControls,"__btn ").concat(this.navigationClassName.screen,"\"></button>\n                <div class=\"").concat(this.navigationClassName.settingMenu,"\">\n                    <h5 class=\"").concat(this.navigationClassName.settingMenu,"-title\">\u0421\u043A\u043E\u0440\u043E\u0441\u0442\u044C</h5>\n                    <ul class=\"").concat(this.navigationClassName.settingMenu,"-speed\">\n                    <li class=\"").concat(this.navigationClassName.videoSpeed,"\" speed=\"2\">2</li>\n                    <li class=\"").concat(this.navigationClassName.videoSpeed,"\" speed=\"1.5\">1.5</li>\n                    <li class=\"").concat(this.navigationClassName.videoSpeed,"\" speed=\"1.25\">1.25</li>\n                    <li class=\"").concat(this.navigationClassName.videoSpeed," ").concat(this.navigationClassName.videoSpeed,"_active\" speed=\"1\">\u041E\u0431\u044B\u0447\u043D\u0430\u044F</li>\n                    <li class=\"").concat(this.navigationClassName.videoSpeed,"\" speed=\"0.75\">0.75</li>\n                    <li class=\"").concat(this.navigationClassName.videoSpeed,"\" speed=\"0.5\">0.5</li>\n                    <li class=\"").concat(this.navigationClassName.videoSpeed,"\" speed=\"0.25\">0.25</li>\n                    </ul>\n                </div>\n                </div>\n            </div>\n            </div>\n        ")),this.navigation={nav:document.querySelector(".".concat(this.navigationClassName.nav)),play:document.querySelector(".".concat(this.navigationClassName.play)),centerButton:document.querySelector(".".concat(this.navigationClassName.centerButton)),screen:document.querySelector(".".concat(this.navigationClassName.screen)),progressBar:document.querySelector(".".concat(this.navigationClassName.progressBar)),progressTime:document.querySelector(".".concat(this.navigationClassName.progressTime)),progressBuffer:document.querySelector(".".concat(this.navigationClassName.progressBuffer)),mute:document.querySelector(".".concat(this.navigationClassName.mute)),volumeBar:document.querySelector(".".concat(this.navigationClassName.volumeBar)),volumeLevel:document.querySelector(".".concat(this.navigationClassName.volumeLevel)),timeDurationMin:document.querySelector(".".concat(this.navigationClassName.timeDurationMin)),timeDurationSec:document.querySelector(".".concat(this.navigationClassName.timeDurationSec)),timeCurentMin:document.querySelector(".".concat(this.navigationClassName.timeCurentMin)),timeCurentSec:document.querySelector(".".concat(this.navigationClassName.timeCurentSec)),setting:document.querySelector(".".concat(this.navigationClassName.setting)),settingMenu:document.querySelector(".".concat(this.navigationClassName.settingMenu)),videoSpeed:document.querySelectorAll(".".concat(this.navigationClassName.videoSpeed)),videoLoader:document.querySelector(".".concat(this.navigationClassName.videoLoader)),polygon:document.querySelector(".".concat(this.navigationClassName.polygon))},this.volume=1,this.videoAlready=!1,this.videoScroll=!1,this.timer,this.mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent),this.start()}return _createClass(a,[{key:"start",value:function start(){var a=this;this.selector.player.addEventListener("click",function(b){switch(b.target!=a.navigation.setting&&a.navigation.settingMenu.classList.remove("".concat(a.navigationClassName.settingMenu,"_active")),b.target){case a.navigation.play:a.play();break;case a.navigation.polygon:a.mobile&&(a.navigation.nav.classList.contains("".concat(a.navigationClassName.nav,"_active"))||!a.videoAlready)?a.play():!a.mobile&&a.play();break;case a.navigation.centerButton:a.play();break;case a.navigation.screen:a.screen();break;case a.navigation.mute:a.mute();break;case a.navigation.setting:a.navigation.settingMenu.classList.toggle("".concat(a.navigationClassName.settingMenu,"_active"));break;default:}b.target.classList.contains(a.navigationClassName.videoSpeed)&&a.speed(b.target),a.mobile&&a.navigationClose()}),this.selector.player.addEventListener("fullscreenchange",function(){document.fullscreenElement?(a.navigation.screen.classList.remove(a.iconClassName.fullScreen),a.navigation.screen.classList.add(a.iconClassName.smallScreen),document.body.classList.add("scroll-stop")):(a.navigation.screen.classList.remove(a.iconClassName.smallScreen),a.navigation.screen.classList.add(a.iconClassName.fullScreen),document.body.classList.remove("scroll-stop"))}),this.navigation.polygon.addEventListener("dblclick",function(){a.screen()}),this.selector.video.addEventListener("timeupdate",function(){a.videoScroll||(a.navigation.progressTime.style.width="".concat(100*(a.selector.video.currentTime/a.selector.video.duration),"%")),a.navigation.progressBuffer.style.width="".concat(100*(a.selector.video.buffered.end(a.selector.video.buffered.length-1)/a.selector.video.duration),"%"),a.navigation.timeCurentMin.innerHTML=Math.floor(a.selector.video.currentTime/60),a.navigation.timeCurentSec.innerHTML="".concat(10>Math.floor(a.selector.video.currentTime%60)?"0":"").concat(Math.floor(a.selector.video.currentTime%60)),a.navigation.timeDurationMin.innerHTML=Math.floor(a.selector.video.duration/60),a.navigation.timeDurationSec.innerHTML="".concat(10>Math.floor(a.selector.video.duration%60)?"0":"").concat(Math.floor(a.selector.video.duration%60))}),this.selector.video.addEventListener("progress",function(){a.videoAlready&&0<a.selector.video.buffered.length&&(a.navigation.progressBuffer.style.width="".concat(100*(a.selector.video.buffered.end(a.selector.video.buffered.length-1)/a.selector.video.duration),"%"))}),this.selector.video.addEventListener("waiting",function(){a.navigation.videoLoader.classList.add("".concat(a.navigationClassName.videoLoader,"_active"))}),this.selector.video.addEventListener("canplaythrough",function(){a.navigation.videoLoader.classList.remove("".concat(a.navigationClassName.videoLoader,"_active"))}),this.selector.video.addEventListener("ended",function(){a.selector.video.currentTime=0,a.navigation.play.classList.remove(a.iconClassName.pause),a.navigation.play.classList.add(a.iconClassName.play)}),this.selector.player.addEventListener("mousemove",function(){a.mobile||a.navigationClose()}),this.mobile?this.navigation.volumeBar.style.display="none":this.volumeBar(),this.progressBar()}},{key:"play",value:function play(){this.videoAlready||(this.navigation.nav.classList.add("".concat(this.navigationClassName.nav,"_active")),this.navigation.centerButton.style.display="none"),this.videoAlready=!0,this.selector.video.paused?(this.selector.video.play(),this.navigation.play.classList.remove(this.iconClassName.play),this.navigation.play.classList.add(this.iconClassName.pause)):(this.selector.video.pause(),this.navigation.play.classList.remove(this.iconClassName.pause),this.navigation.play.classList.add(this.iconClassName.play))}},{key:"screen",value:function screen(){var a=this;document.fullscreenElement?document.exitFullscreen():this.selector.player.requestFullscreen(),setTimeout(function(){a.navigationClose()},1e3)}},{key:"mute",value:function mute(){this.navigation.mute.classList.remove(this.iconClassName.volumeUp),this.navigation.mute.classList.remove(this.iconClassName.volumeDown),this.navigation.mute.classList.remove(this.iconClassName.volumeOff),this.navigation.mute.classList.remove(this.iconClassName.volumeMute),this.selector.video.muted?(this.selector.video.muted=!1,.5<this.volume?this.navigation.mute.classList.add(this.iconClassName.volumeUp):.1>this.volume?this.navigation.mute.classList.add(this.iconClassName.volumeOff):.5>this.volume&&this.navigation.mute.classList.add(this.iconClassName.volumeDown)):(this.selector.video.muted=!0,this.navigation.mute.classList.add(this.iconClassName.volumeMute))}},{key:"progressBar",value:function progressBar(){function a(a){d.videoScroll=!0,d.selector.video.currentTime=((a.clientX||a.changedTouches[0].clientX)-d.navigation.progressBar.getBoundingClientRect().x)/d.navigation.progressBar.offsetWidth*d.selector.video.duration,d.navigation.progressTime.style.width="".concat(100*(((a.clientX||a.changedTouches[0].clientX)-d.navigation.progressBar.getBoundingClientRect().x)/d.navigation.progressBar.offsetWidth),"%"),d.selector.player.addEventListener("mousemove",b),d.selector.player.addEventListener("mouseup",c),d.selector.player.addEventListener("mouseleave",c),d.selector.player.addEventListener("touchmove",b),d.selector.player.addEventListener("touchend",c),d.selector.player.addEventListener("touchcancel",c)}function b(a){d.selector.video.currentTime=((a.clientX||a.changedTouches[0].clientX)-d.navigation.progressBar.getBoundingClientRect().x)/d.navigation.progressBar.offsetWidth*d.selector.video.duration,d.navigation.progressTime.style.width="".concat(100*(((a.clientX||a.changedTouches[0].clientX)-d.navigation.progressBar.getBoundingClientRect().x)/d.navigation.progressBar.offsetWidth),"%")}function c(){d.videoScroll=!1,d.selector.player.removeEventListener("mousemove",b),d.selector.player.removeEventListener("mouseup",c),d.selector.player.removeEventListener("mouseleave",c),d.selector.player.removeEventListener("touchmove",b),d.selector.player.removeEventListener("touchend",c),d.selector.player.removeEventListener("touchcancel",c)}var d=this;this.navigation.progressBar.addEventListener("mousedown",a),this.navigation.progressBar.addEventListener("touchstart",a)}},{key:"volumeBar",value:function volumeBar(){function a(a){f.navigation.mute.classList.remove(f.iconClassName.volumeUp),f.navigation.mute.classList.remove(f.iconClassName.volumeDown),f.navigation.mute.classList.remove(f.iconClassName.volumeOff),f.navigation.mute.classList.remove(f.iconClassName.volumeMute),.5<a?f.navigation.mute.classList.add(f.iconClassName.volumeUp):.1>a?f.navigation.mute.classList.add(f.iconClassName.volumeOff):.5>a&&f.navigation.mute.classList.add(f.iconClassName.volumeDown)}function b(b){f.volume=(b.clientX-f.navigation.volumeBar.getBoundingClientRect().x)/f.navigation.volumeBar.offsetWidth,0<=f.volume&&1>=f.volume?(f.navigation.volumeLevel.style.width="".concat(100*f.volume,"%"),f.selector.video.volume=f.volume,a(f.volume)):1<f.volume?(f.volume=1,f.selector.video.volume=f.volume,f.navigation.volumeLevel.style.width="".concat(100*f.volume,"%"),a(f.volume)):(f.volume=0,f.selector.video.volume=f.volume,f.navigation.volumeLevel.style.width="".concat(100*f.volume,"%"),a(f.volume)),localStorage.setItem("volume",f.volume)}function c(){f.selector.player.removeEventListener("mousemove",b),f.selector.player.removeEventListener("mousemove",c),f.selector.player.removeEventListener("mouseleave",c)}var d=this,f=this;localStorage.getItem("volume")?this.volume=localStorage.getItem("volume"):localStorage.setItem("volume",this.volume),a(this.volume),this.navigation.volumeLevel.style.width="".concat(100*this.volume,"%"),this.selector.video.volume=this.volume,this.navigation.volumeBar.addEventListener("mousedown",function(f){d.volume=(f.clientX-d.navigation.volumeBar.getBoundingClientRect().x)/d.navigation.volumeBar.offsetWidth,d.navigation.volumeLevel.style.width="".concat(100*d.volume,"%"),d.selector.video.volume=d.volume,localStorage.setItem("volume",d.volume),d.selector.video.muted&&d.mute(),a(d.volume),d.selector.player.addEventListener("mousemove",b),d.selector.player.addEventListener("mouseup",c),d.selector.player.addEventListener("mouseleave",c)}),this.selector.video.addEventListener("wheel",function(b){document.fullscreenElement&&(d.volume-=b.deltaY/2e3,0<=d.volume&&1>=d.volume?(d.navigation.volumeLevel.style.width="".concat(100*d.volume,"%"),d.selector.video.volume=d.volume,a(d.volume)):1<d.volume?(d.volume=1,d.selector.video.volume=d.volume,d.navigation.volumeLevel.style.width="".concat(100*d.volume,"%"),a(d.volume)):(d.volume=0,d.selector.video.volume=d.volume,d.navigation.volumeLevel.style.width="".concat(100*d.volume,"%"),a(d.volume))),localStorage.setItem("volume",d.volume)})}},{key:"speed",value:function(a){var b=this;this.selector.video.playbackRate=a.getAttribute("speed"),this.navigation.videoSpeed.forEach(function(a){a.classList.remove("".concat(b.navigationClassName.videoSpeed,"_active"))}),a.classList.add("".concat(this.navigationClassName.videoSpeed,"_active"))}},{key:"navigationClose",value:function navigationClose(){var a=this;clearTimeout(this.timer),!this.navigation.nav.classList.contains("".concat(this.navigationClassName.nav,"_active"))&&this.videoAlready&&(this.navigation.nav.classList.add("".concat(this.navigationClassName.nav,"_active")),this.selector.player.style.cursor="auto"),!this.selector.video.paused&&this.navigation.nav.classList.contains("".concat(this.navigationClassName.nav,"_active"))&&document.fullscreenElement&&(this.timer=setTimeout(function(){a.navigation.nav.classList.remove("".concat(a.navigationClassName.nav,"_active")),a.selector.player.style.cursor="none"},3e3))}}]),a}(),f=new e("player"),g=document.querySelector(".subscribe__col-left"),h=document.querySelector(".subscribe__col-right"),i=document.querySelector(".subscribe__col-title"),j=window.matchMedia("(max-width: 991.98px)");j.addListener(a),a(j)},!1);
//# sourceMappingURL=main.min.js.map
